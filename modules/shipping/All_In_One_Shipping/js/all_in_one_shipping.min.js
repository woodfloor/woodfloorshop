$(document).ready(function(){function t(t){return t.replace(/(\[|\]|:|\.)/g,"\\$1")}$(".chzn-select").chosen({width:"300px"}),$("a.aios-remove-zone").on("click",function(){var t=$(this).attr("title");return""==t||confirm(t)?!0:!1}),$("span.aios-editable").each(function(){""==$(this).html()&&$(this).html("<em>null</em>")}),$("span.aios-editable").each(function(){$(this).attr("title","Click to edit")}).on("click",function(){var t=$(this).html();"<em>null</em>"==t&&(t="");var a=$(this).attr("name"),i=$(this).attr("class"),n=document.createElement("input");$(n).attr({type:"text",value:t}).addClass(i),$(n).attr("name",a),$(this).hasClass("aios-number")&&$(n).attr("size","7"),$(this).hasClass("aios-text")&&$(n).attr("size","25"),$(this).replaceWith(n)}),$("body").on("change","input.aios-editable",function(){var t=$(this).parents("tr:first").find('input[name^="update_rates"]');$(t).val(1)}),$("a.aios-edit").on("click",function(){var t=$(this).parents("tr:first").find("span.aios-editable");$(t).click();var t=$(this).parents("tr:first").find("input.aios-editable");return $(t).data("original",$(t).val()),!1});var a=5;$("tr.aios-add-rates-row").hide(),$("a.aios-add").on("click",function(){var t=$(this).parents("tbody:first").find("tr:last");if($(t).is(":visible")){for(var i=$(t).html(),n=1;a>=n;n++){var e=i.replace(/\]\[(\d+)\]/g,function(t,a){return new_index=parseInt(a,10)+n,"]["+new_index+"]"});$(this).parents("tbody:first").append("<tr>"+e+"</tr>")}$(".list").find("tbody>tr:nth-child(even)").addClass("list-even"),$(".list").find("tbody>tr:nth-child(odd)").addClass("list-odd")}else $(this).parents("tbody:first").find("tr.aios-add-rates-row").show();return!1}),$("a.aios-remove").on("click",function(){var a=$(this).attr("rel"),i=$("input[name="+t(a)+"]");$(i).val(1);var i=$(this).parents("tr:first");$(i).addClass("show-removed");var i=$(this).parents("td").children("a.aios-undo-remove");return $(i).show(),$(this).hide(),!1}),$("a.aios-undo-remove").on("click",function(){var a=$(this).attr("rel"),i=$("input[name="+t(a)+"]");$(i).val(0);var i=$(this).parents("tr:first");$(i).removeClass("show-removed");var i=$(this).parents("td").children("a.aios-remove");return $(i).show(),$(this).hide(),!1}),$("a.aios-undo-remove").hide(),$("input.max-weight").on("change",function(){var t=$(this).parents("tr:first").next().find("input.min-weight");t&&($(t).val($(this).val()),$(t).stop().css("background-color","#FFFF00").animate({backgroundColor:"#FFFFFF"},500))}),$("input.max-value").on("change",function(){var t=$(this).parents("tr:first").next().find("input.min-value");t&&($(t).val($(this).val()),$(t).stop().css("background-color","#FFFF00").animate({backgroundColor:"#FFFFFF"},500))}),$("input.max-items").on("change",function(){var t=$(this).parents("tr:first").next().find("input.min-items");t&&($(t).val(parseInt($(this).val())+1),$(t).stop().css("background-color","#FFFF00").animate({backgroundColor:"#FFFFFF"},500))})});